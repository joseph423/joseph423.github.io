(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4173],{56114:function(e,t,r){Promise.resolve().then(r.bind(r,34015))},34015:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return G}});var n=r(48646),i=r(57437),o=r(2265),l=r(26461),s=r(39315),a=r.n(s),d=r(87170),u=r(60091),c=r(96598),f=r(80219),h=r(22960),g=r(17156),x=r(83719),m=r(18409),p=r(66858),v=r(52326),j=r(68038),b=r(65786),w=r(40468),k=r(15656),N=r(73751),y=r(21948),C=r(39927),Z=r(38746),z=r(66648),P=r(34762),S=r(68969),A=r(15942),E=r(39343);function H(){let e=(0,n._)(["flex min-h-28 flex-col items-center justify-center rounded-lg border-2 border-dashed p-4 text-center outline-none transition-colors delay-300 ease-in-out dark:border-neutral-200 dark:bg-neutral-800 dark:text-neutral-200"]);return H=function(){return e},e}function I(){let e=(0,n._)(["dark:!border-amber-500"]);return I=function(){return e},e}function _(){let e=(0,n._)(["dark:!border-emerald-500"]);return _=function(){return e},e}function R(){let e=(0,n._)(["dark:!border-red-800"]);return R=function(){return e},e}function T(){let e=(0,n._)(["opacity-60"]);return T=function(){return e},e}let W={base:(0,P.tw)(H()),focused:(0,P.tw)(I()),accept:(0,P.tw)(_()),reject:(0,P.tw)(R()),disabled:(0,P.tw)(T())},O={$id:"image-resize/page/output-dimensions",type:"object",properties:{outputWidth:{type:"integer",minimum:1,maximum:2e4},outputHeight:{type:"integer",minimum:1,maximum:2e4},addBackground:{type:"boolean"},backgroundColor:{type:"string",minLength:1}},required:["outputWidth","outputHeight"],additionalProperties:!0},B=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"heros-pattern-diagonal-lines relative h-28 w-full dark:bg-neutral-900",children:t})},D=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"absolute left-0 top-0 flex items-center justify-center rounded-br-lg p-1.5 py-0 text-xs dark:bg-amber-500 dark:text-neutral-900",children:t})},L=e=>{let{control:t,register:r,resizing:n}=e;return(0,E.qo)({control:t,name:"addBackground"})&&(0,i.jsx)("input",{type:"color",className:"rounded dark:bg-neutral-700",disabled:n,...r("backgroundColor")})},M=e=>{let{control:t,errors:r,resizing:n}=e,o=Object.keys(r).length>0,[l,s,a]=(0,E.qo)({control:t,name:["outputWidth","outputHeight","files"]}),d=0===a.length||n||o||"number"!=typeof l||"number"!=typeof s;return(0,i.jsx)(u.Z,{type:"submit",variant:"contained",disabled:d,children:"Resize"})},q=(0,o.memo)(function(e){let{control:t,filePreviews:r}=e,n=(0,E.qo)({control:t,name:"files"});return console.log("rerender"),r.length>0&&n.length>0&&(0,i.jsx)("div",{className:"max-w-full overflow-hidden rounded-lg dark:bg-neutral-800",children:(0,i.jsx)(c.Z,{direction:"row",spacing:2,className:"overflow-auto",children:r.map((e,t)=>(0,i.jsxs)("div",{className:"heros-pattern-diagonal-lines relative h-20 w-fit min-w-fit overflow-hidden rounded-lg dark:bg-neutral-900",children:[(0,i.jsx)(z.default,{src:e,alt:n[t].name,width:"0",height:"0",sizes:"100vw",className:"h-full w-auto"}),(0,i.jsx)(D,{children:t+1})]},t))})})}),F=(0,o.memo)(function(e){let{resizedImages:t}=e;return t.map((e,t)=>(0,i.jsxs)(f.Z,{size:{xs:12,xl:6},className:"group relative flex items-center overflow-hidden rounded-lg dark:bg-neutral-900",children:[(0,i.jsx)(B,{children:(0,i.jsx)(z.default,{src:e.original,alt:"Original ".concat(t),fill:!0,style:{objectFit:"contain"}})}),(0,i.jsx)("div",{className:"px-1",children:(0,i.jsx)(y.Z,{})}),(0,i.jsx)(B,{children:(0,i.jsx)(z.default,{src:e.resized,alt:"Resized ".concat(t),fill:!0,style:{objectFit:"contain"}})}),(0,i.jsx)("div",{className:"absolute inset-0 hidden rounded-lg rounded-br-lg text-xs backdrop-blur-sm group-hover:block dark:bg-neutral-900/75",children:(0,i.jsx)("a",{href:e.resized,download:e.fileName,className:"flex h-full w-full items-center justify-center dark:text-white",children:(0,i.jsx)(C.Z,{fontSize:"large"})})}),(0,i.jsx)(D,{children:t+1})]},t))});function G(){let e=(0,h.Z)(),t={enter:e.transitions.duration.enteringScreen,exit:e.transitions.duration.leavingScreen},r=(0,l.t8)(),{register:n,formState:{errors:s},setValue:u,control:y,handleSubmit:z}=(0,E.cI)({defaultValues:{outputWidth:"",outputHeight:"",addBackground:!0,backgroundColor:"#ffffff",files:[]},resolver:(0,A.G)(O)}),[H,I]=(0,o.useState)(!1),[_,R]=(0,o.useState)([]),[T,B]=(0,o.useState)([]),[D]=(0,S.T)(),{getRootProps:G,getInputProps:U,isFocused:X,isDragAccept:$,isDragReject:Q}=(0,Z.uI)({disabled:H,accept:{"image/*":[]},onDrop:e=>{console.log("on drop"),u("files",e);let t=[];for(let r of e)t.push(URL.createObjectURL(r));R(t)}}),J=(0,o.useMemo)(()=>W.base+" "+(X?W.focused:"")+" "+($?W.accept:"")+" "+(Q?W.reject:"")+" "+(H?W.disabled:""),[X,$,Q,H]),V=async e=>{I(!0);let t=e.outputWidth,n=e.outputHeight,i=e.addBackground,o=e.backgroundColor,l=e.files;try{if(!l)throw Error("No file is selected.");if("number"!=typeof t)throw Error("Invalid output width.");if("number"!=typeof n)throw Error("Invalid output height.");console.log({addBackground:i,backgroundColor:o,files:l});let e=Array.from(l).map(e=>new Promise(r=>{let l=new FileReader;l.onload=l=>{var s;console.log({event:l});let a=new Image;a.src=null===(s=l.target)||void 0===s?void 0:s.result,a.onload=()=>{var s;let d,u,c,f;let h=document.createElement("canvas"),g=h.getContext("2d"),x=a.width,m=a.height,p=x/m,v=t/n,j=i?v<p:v>=p,b=!j,w=n/m,k=t/x;console.log({originalRatio:p,outputRatio:v,stretchMaxWidth:j,stretchMaxHeight:b,widthResizeMultiplier:w,heightResizeMultiplier:k}),h.width=t,h.height=n,d=j?t:x*w,u=b?n:m*k,i?(g.fillStyle=o,g.fillRect(0,0,h.width,h.height),c=j?0:(t-d)/2,f=b?0:(n-u)/2):(c=j?0:-((d-t)/2),f=b?0:-((u-n)/2)),console.log({offsetX:c,offsetY:f,drawWidth:d,drawHeight:u}),g.drawImage(a,c,f,d,u);let N=h.toDataURL("image/jpeg");r({original:null===(s=l.target)||void 0===s?void 0:s.result,resized:N,fileName:"".concat(e.name)})}},l.readAsDataURL(e)})),r=await Promise.all(e);console.log("Resize process is completed."),B(r),console.log("Set resized images, complete.")}catch(e){console.error(e)}finally{I(!1),r("Image(s) resized")}},K=async()=>{let e=new(a());T.forEach(t=>{let r=t.resized.split(",")[1];e.file(t.fileName,r,{base64:!0})});let t=await e.generateAsync({type:"blob"});(0,d.saveAs)(t,"resized-images.zip")};return(0,i.jsxs)(g.Z,{className:"flex w-full flex-1 flex-col p-4 lg:px-6 lg:py-4",sx:{maxHeight:{lg:D}},children:[(0,i.jsx)(x.Z,{variant:"h1",className:"mt-0 flex-none text-2xl",children:"Image Resize"}),(0,i.jsxs)(c.Z,{direction:{xs:"column",lg:"row"},spacing:2,className:"mt-4 lg:overflow-hidden",children:[(0,i.jsx)("form",{onSubmit:z(V),className:"min-w-0 basis-0 lg:basis-6/12 2xl:basis-4/12",children:(0,i.jsxs)(c.Z,{spacing:2,children:[(0,i.jsxs)("div",{...G({className:J}),children:[(0,i.jsx)("input",{...U(),...n("files")}),(0,i.jsx)("p",{children:"Drag & drop some images here, or click to select."})]}),(0,i.jsx)(q,{control:y,filePreviews:_}),(0,i.jsxs)("div",{className:"pt-2",children:[(0,i.jsx)(m.Z,{className:"mb-2",children:"Output Dimensions"}),(0,i.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(E.Qr,{control:y,name:"outputWidth",render:e=>{let{field:t}=e;return(0,i.jsx)(p.Z,{...t,slotProps:{htmlInput:{className:"text-right"},input:{startAdornment:(0,i.jsx)(v.Z,{position:"start",children:"Width:"}),endAdornment:(0,i.jsx)(v.Z,{position:"end",children:"px"})}},size:"small",disabled:H,onChange:e=>(0,P.oX)(e,t.onChange),error:void 0!==s.outputWidth,helperText:void 0!==s.outputWidth&&s.outputWidth.message})}}),(0,i.jsx)(E.Qr,{control:y,name:"outputHeight",render:e=>{let{field:t}=e;return(0,i.jsx)(p.Z,{...t,slotProps:{htmlInput:{className:"text-right"},input:{startAdornment:(0,i.jsx)(v.Z,{position:"start",children:"Height:"}),endAdornment:(0,i.jsx)(v.Z,{position:"end",children:"px"})}},size:"small",disabled:H,onChange:e=>(0,P.oX)(e,t.onChange),error:void 0!==s.outputHeight,helperText:void 0!==s.outputHeight&&s.outputHeight.message})}})]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(E.Qr,{control:y,name:"addBackground",render:e=>{let{field:t}=e;return(0,i.jsx)(j.Z,{control:(0,i.jsx)(b.Z,{onChange:e=>t.onChange(e.target.checked),checked:t.value}),disabled:H,label:"Add Background"})}}),(0,i.jsx)(L,{control:y,register:n,resizing:H})]}),(0,i.jsx)(f.Z,{size:12,children:(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(M,{control:y,errors:s,resizing:H}),H&&(0,i.jsx)(w.Z,{size:24,sx:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})})})]})}),(0,i.jsx)("div",{className:"min-w-0 basis-0 rounded-lg lg:basis-6/12 lg:overflow-hidden 2xl:basis-8/12",children:(0,i.jsx)(f.Z,{container:!0,spacing:3,padding:2,className:"max-h-full rounded-lg lg:overflow-auto dark:bg-neutral-800",children:T.length>0?(0,i.jsx)(F,{resizedImages:T}):(0,i.jsx)(f.Z,{size:12,className:"text-center",children:'Please select image(s) and click "Resize".'})})})]}),(0,i.jsx)(k.Z,{in:T.length>0,timeout:t,style:{transitionDelay:"".concat(T.length>0?t.exit:0,"ms")},unmountOnExit:!0,children:(0,i.jsxs)(N.Z,{variant:"extended",color:"primary",onClick:K,className:"fixed bottom-4 right-4 rounded-lg p-4 lg:bottom-4 lg:right-6",children:[(0,i.jsx)(C.Z,{}),"Download All"]})})]})}},61198:function(e,t,r){"use strict";r.d(t,{AdMobProvider:function(){return s},Fc:function(){return d},dG:function(){return a}});var n=r(57437),i=r(2265);let o=(0,i.createContext)(void 0),l=(0,i.createContext)(()=>{}),s=e=>{let{children:t}=e,[r,s]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{console.log("AdMobProvider.useEffect.[bannerSize]",{bannerSize:r})},[r]),(0,n.jsx)(o.Provider,{value:r,children:(0,n.jsx)(l.Provider,{value:s,children:t})})},a=()=>(0,i.useContext)(o),d=()=>(0,i.useContext)(l)},94426:function(e,t,r){"use strict";r.d(t,{hB:function(){return a},jp:function(){return d},t9:function(){return s}});var n=r(57437),i=r(2265);let o=(0,i.createContext)(void 0),l=(0,i.createContext)(()=>{}),s=e=>{let{children:t}=e,[r,s]=(0,i.useState)(void 0);return(0,n.jsx)(o.Provider,{value:r,children:(0,n.jsx)(l.Provider,{value:s,children:t})})},a=()=>(0,i.useContext)(o),d=()=>(0,i.useContext)(l)},26461:function(e,t,r){"use strict";r.d(t,{T1:function(){return s},t8:function(){return a}});var n=r(57437),i=r(2265);let o=(0,i.createContext)(null),l=(0,i.createContext)(null),s=e=>{let{children:t,isOpened:r,showNotificationMessage:i}=e;return(0,n.jsx)(o.Provider,{value:r,children:(0,n.jsx)(l.Provider,{value:i,children:t})})},a=()=>(0,i.useContext)(l)},45213:function(e,t,r){"use strict";r.d(t,{$o:function(){return f},dt:function(){return c},s$:function(){return d},tG:function(){return u},w:function(){return h}});var n=r(57437),i=r(2265);let o=(0,i.createContext)(void 0),l=(0,i.createContext)(()=>{}),s=(0,i.createContext)(void 0),a=(0,i.createContext)(()=>{}),d=e=>{let{children:t}=e,[r,d]=(0,i.useState)(!1),[u,c]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{},[u]),(0,n.jsx)(o.Provider,{value:r,children:(0,n.jsx)(l.Provider,{value:d,children:(0,n.jsx)(s.Provider,{value:u,children:(0,n.jsx)(a.Provider,{value:c,children:t})})})})},u=()=>(0,i.useContext)(o),c=()=>(0,i.useContext)(l),f=()=>(0,i.useContext)(s),h=()=>(0,i.useContext)(a)},68969:function(e,t,r){"use strict";r.d(t,{T:function(){return u}});var n=r(61198),i=r(94426),o=r(45213),l=r(43061),s=r(22599),a=r.n(s),d=r(2265);let u=()=>{let e=(0,n.dG)(),t=(0,l.iP)(),r=(0,o.$o)(),s=(0,i.hB)(),[u,c]=(0,d.useState)(0);return(0,d.useEffect)(()=>{c(a().defaultTo(null==t?void 0:t.height,0)-a().defaultTo(null==e?void 0:e.height,0)-a().defaultTo(null==r?void 0:r.offsetHeight,0)-a().defaultTo(null==s?void 0:s.offsetHeight,0))},[t,e,r,s]),[u]}},34762:function(e,t,r){"use strict";r.d(t,{Xe:function(){return i},oX:function(){return l},tw:function(){return o},w_:function(){return n}});let n=e=>JSON.stringify(Array.from(e)),i=e=>(console.log("jsonToMap()",{json:e}),new Map(JSON.parse(e))),o=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return String.raw({raw:e},...r)},l=(e,t)=>{if(""===e.target.value)return t(""),!0;if("-"===e.target.value)return t("-"),!0;let r=parseInt(e.target.value,10);return!isNaN(r)&&(t(r),!0)}}},function(e){e.O(0,[1866,3719,4544,2776,3061,346,6858,5786,8173,6289,4552,2971,7023,1744],function(){return e(e.s=56114)}),_N_E=e.O()}]);