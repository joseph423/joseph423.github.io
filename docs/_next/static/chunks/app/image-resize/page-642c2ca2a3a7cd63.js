(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4173],{56114:function(e,t,r){Promise.resolve().then(r.bind(r,25440))},25440:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $}});var n=r(45008),i=r(57437),l=r(2265),o=r(52801),s=r(57635),a=r.n(s),u=r(12),d=r(91991),c=r(19643),f=r(84791),h=r(31691),g=r(2069),m=r(46387),x=r(64393),p=r(12713),j=r(23996),v=r(85860),b=r(22560),w=r(35389),N=r(397),k=r(137),y=r(41761),C=r(30662),z=r(85598),Z=r(33145),P=r(26062),S=r(74924),_=r(29501),A=r(16829);function H(){let e=(0,n._)(["flex min-h-28 flex-col items-center justify-center rounded-lg border-2 border-dashed p-4 text-center outline-none transition-colors delay-300 ease-in-out dark:border-neutral-200 dark:bg-neutral-800 dark:text-neutral-200"]);return H=function(){return e},e}function I(){let e=(0,n._)(["dark:!border-amber-500"]);return I=function(){return e},e}function R(){let e=(0,n._)(["dark:!border-emerald-500"]);return R=function(){return e},e}function E(){let e=(0,n._)(["dark:!border-red-800"]);return E=function(){return e},e}function W(){let e=(0,n._)(["opacity-60"]);return W=function(){return e},e}let B={base:(0,P.tw)(H()),focused:(0,P.tw)(I()),accept:(0,P.tw)(R()),reject:(0,P.tw)(E()),disabled:(0,P.tw)(W())},O={$id:"image-resize/page/output-dimensions",type:"object",properties:{outputWidth:{type:"integer",minimum:1,maximum:2e4},outputHeight:{type:"integer",minimum:1,maximum:2e4},addBackground:{type:"boolean"},backgroundColor:{type:"string",minLength:1}},required:["outputWidth","outputHeight"],additionalProperties:!0},D=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"heros-pattern-diagonal-lines relative h-28 w-full dark:bg-neutral-900",children:t})},L=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"absolute left-0 top-0 flex items-center justify-center rounded-br-lg p-1.5 py-0 text-xs dark:bg-amber-500 dark:text-neutral-900",children:t})},T=e=>{let{control:t,register:r,resizing:n}=e;return(0,_.qo)({control:t,name:"addBackground"})&&(0,i.jsx)("input",{type:"color",className:"rounded dark:bg-neutral-700",disabled:n,...r("backgroundColor")})},q=e=>{let{control:t,errors:r,resizing:n}=e,l=Object.keys(r).length>0,[o,s,a]=(0,_.qo)({control:t,name:["outputWidth","outputHeight","files"]}),u=0===a.length||n||l||"number"!=typeof o||"number"!=typeof s;return(0,i.jsx)(d.Z,{type:"submit",variant:"contained",disabled:u,children:"Resize"})},U=(0,l.memo)(function(e){let{control:t,filePreviews:r}=e,n=(0,_.qo)({control:t,name:"files"});return r.length>0&&n.length>0&&(0,i.jsx)("div",{className:"max-w-full overflow-hidden rounded-lg dark:bg-neutral-800",children:(0,i.jsx)(c.Z,{direction:"row",spacing:2,className:"overflow-auto",children:r.map((e,t)=>(0,i.jsxs)("div",{className:"heros-pattern-diagonal-lines relative h-20 w-fit min-w-fit overflow-hidden rounded-lg dark:bg-neutral-900",children:[(0,i.jsx)(Z.default,{src:e,alt:n[t].name,width:"0",height:"0",sizes:"100vw",className:"h-full w-auto"}),(0,i.jsx)(L,{children:t+1})]},t))})})}),X=(0,l.memo)(function(e){let{resizedImages:t}=e;return t.map((e,t)=>(0,i.jsxs)(f.Z,{size:{xs:12,xl:6},className:"group relative flex items-center overflow-hidden rounded-lg dark:bg-neutral-900",children:[(0,i.jsx)(D,{children:(0,i.jsx)(Z.default,{src:e.original,alt:"Original ".concat(t),fill:!0,style:{objectFit:"contain"}})}),(0,i.jsx)("div",{className:"px-1",children:(0,i.jsx)(y.Z,{})}),(0,i.jsx)(D,{children:(0,i.jsx)(Z.default,{src:e.resized,alt:"Resized ".concat(t),fill:!0,style:{objectFit:"contain"}})}),(0,i.jsx)("div",{className:"absolute inset-0 hidden rounded-lg rounded-br-lg text-xs backdrop-blur-sm group-hover:block dark:bg-neutral-900/75",children:(0,i.jsx)("a",{href:e.resized,download:e.fileName,className:"flex h-full w-full items-center justify-center dark:text-white",children:(0,i.jsx)(C.Z,{fontSize:"large"})})}),(0,i.jsx)(L,{children:t+1})]},t))});function $(){let e=(0,h.Z)(),t={enter:e.transitions.duration.enteringScreen,exit:e.transitions.duration.leavingScreen},r=(0,o.t8)(),{register:n,formState:{errors:s},setValue:d,control:y,handleSubmit:Z}=(0,_.cI)({defaultValues:{outputWidth:"",outputHeight:"",addBackground:!0,backgroundColor:"#ffffff",files:[]},resolver:(0,S.G)(O)}),[H,I]=(0,l.useState)(!1),[R,E]=(0,l.useState)([]),[W,D]=(0,l.useState)([]),{getRootProps:L,getInputProps:$,isFocused:F,isDragAccept:Q,isDragReject:G}=(0,z.uI)({disabled:H,accept:{"image/*":[]},onDrop:e=>{console.log("on drop"),d("files",e);let t=[];for(let r of e)t.push(URL.createObjectURL(r));E(t)}}),J=(0,l.useMemo)(()=>B.base+" "+(F?B.focused:"")+" "+(Q?B.accept:"")+" "+(G?B.reject:"")+" "+(H?B.disabled:""),[F,Q,G,H]),M=async e=>{I(!0);let t=e.outputWidth,n=e.outputHeight,i=e.addBackground,l=e.backgroundColor,o=e.files;try{if(!o)throw Error("No file is selected.");if("number"!=typeof t)throw Error("Invalid output width.");if("number"!=typeof n)throw Error("Invalid output height.");console.log({addBackground:i,backgroundColor:l,files:o});let e=Array.from(o).map(e=>new Promise(r=>{let o=new FileReader;o.onload=o=>{var s;console.log({event:o});let a=new Image;a.src=null===(s=o.target)||void 0===s?void 0:s.result,a.onload=()=>{var s;let u,d,c,f;let h=document.createElement("canvas"),g=h.getContext("2d"),m=a.width,x=a.height,p=m/x,j=t/n,v=i?j<p:j>=p,b=!v,w=n/x,N=t/m;console.log({originalRatio:p,outputRatio:j,stretchMaxWidth:v,stretchMaxHeight:b,widthResizeMultiplier:w,heightResizeMultiplier:N}),h.width=t,h.height=n,u=v?t:m*w,d=b?n:x*N,i?(g.fillStyle=l,g.fillRect(0,0,h.width,h.height),c=v?0:(t-u)/2,f=b?0:(n-d)/2):(c=v?0:-((u-t)/2),f=b?0:-((d-n)/2)),console.log({offsetX:c,offsetY:f,drawWidth:u,drawHeight:d}),g.drawImage(a,c,f,u,d);let k=h.toDataURL("image/jpeg");r({original:null===(s=o.target)||void 0===s?void 0:s.result,resized:k,fileName:"".concat(e.name)})}},o.readAsDataURL(e)})),r=await Promise.all(e);console.log("Resize process is completed."),D(r),console.log("Set resized images, complete.")}catch(e){console.error(e)}finally{I(!1),r("Image(s) resized")}},V=async()=>{let e=new(a());W.forEach(t=>{let r=t.resized.split(",")[1];e.file(t.fileName,r,{base64:!0})});let t=await e.generateAsync({type:"blob"});(0,u.saveAs)(t,"resized-images.zip")};return(0,i.jsx)(A.default,{heightProfile:"2",children:(0,i.jsxs)(g.default,{className:"flex flex-col lg:h-full",sx:{},children:[(0,i.jsx)(m.default,{variant:"h1",className:"mt-0 flex-none text-2xl",children:"Image Resize"}),(0,i.jsxs)(c.Z,{direction:{xs:"column",lg:"row"},spacing:2,className:"mt-4 lg:overflow-hidden",children:[(0,i.jsx)("form",{onSubmit:Z(M),className:"min-w-0 basis-0 lg:basis-6/12 lg:overflow-auto 2xl:basis-4/12",children:(0,i.jsxs)(c.Z,{spacing:2,children:[(0,i.jsxs)("div",{...L({className:J}),children:[(0,i.jsx)("input",{...$(),...n("files")}),(0,i.jsx)("p",{children:"Drag & drop some images here, or click to select."})]}),(0,i.jsx)(U,{control:y,filePreviews:R}),(0,i.jsxs)("div",{className:"pt-2",children:[(0,i.jsx)(x.Z,{className:"mb-2",children:"Output Dimensions"}),(0,i.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(_.Qr,{control:y,name:"outputWidth",render:e=>{let{field:t}=e;return(0,i.jsx)(p.Z,{...t,slotProps:{htmlInput:{className:"text-right"},input:{startAdornment:(0,i.jsx)(j.Z,{position:"start",children:"Width:"}),endAdornment:(0,i.jsx)(j.Z,{position:"end",children:"px"})}},size:"small",disabled:H,onChange:e=>(0,P.oX)(e,t.onChange),error:void 0!==s.outputWidth,helperText:void 0!==s.outputWidth&&s.outputWidth.message})}}),(0,i.jsx)(_.Qr,{control:y,name:"outputHeight",render:e=>{let{field:t}=e;return(0,i.jsx)(p.Z,{...t,slotProps:{htmlInput:{className:"text-right"},input:{startAdornment:(0,i.jsx)(j.Z,{position:"start",children:"Height:"}),endAdornment:(0,i.jsx)(j.Z,{position:"end",children:"px"})}},size:"small",disabled:H,onChange:e=>(0,P.oX)(e,t.onChange),error:void 0!==s.outputHeight,helperText:void 0!==s.outputHeight&&s.outputHeight.message})}})]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(_.Qr,{control:y,name:"addBackground",render:e=>{let{field:t}=e;return(0,i.jsx)(v.Z,{control:(0,i.jsx)(b.Z,{onChange:e=>t.onChange(e.target.checked),checked:t.value}),disabled:H,label:"Add Background"})}}),(0,i.jsx)(T,{control:y,register:n,resizing:H})]}),(0,i.jsx)(f.Z,{size:12,children:(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(q,{control:y,errors:s,resizing:H}),H&&(0,i.jsx)(w.Z,{size:24,sx:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})})})]})}),(0,i.jsx)("div",{className:"min-w-0 basis-0 rounded-lg lg:basis-6/12 lg:overflow-hidden 2xl:basis-8/12",children:(0,i.jsx)(f.Z,{container:!0,spacing:3,padding:2,className:"max-h-full min-h-28 rounded-lg lg:overflow-auto dark:bg-neutral-800",children:W.length>0?(0,i.jsx)(X,{resizedImages:W}):(0,i.jsx)(f.Z,{size:12,className:"flex items-center justify-center text-center",children:'Please select image(s) and click "Resize".'})})})]}),(0,i.jsx)(N.Z,{in:W.length>0,timeout:t,style:{transitionDelay:"".concat(W.length>0?t.exit:0,"ms")},unmountOnExit:!0,children:(0,i.jsxs)(k.Z,{variant:"extended",color:"primary",onClick:V,className:"fixed bottom-4 right-4 rounded-lg p-4 lg:bottom-4 lg:right-6",children:[(0,i.jsx)(C.Z,{}),"Download All"]})})]})})}},16829:function(e,t,r){"use strict";r.d(t,{default:function(){return h}});var n=r(45008),i=r(57437),l=r(74072),o=r(32653),s=r(2069),a=r(26062);function u(){let e=(0,n._)(["min-h-dvh w-full"]);return u=function(){return e},e}function d(){let e=(0,n._)(["h-full"]);return d=function(){return e},e}function c(){let e=(0,n._)(["h-dvh"]);return c=function(){return e},e}function f(){let e=(0,n._)(["p-4 lg:px-6"]);return f=function(){return e},e}function h(e){let{heightProfile:t,paddingProfile:r,children:n}=e,h=(0,o.$o)(),g=(0,l.hB)(),m=(0,a.tw)(u()),x=(0,a.tw)(d());return"1"===t&&(m+=" "+(0,a.tw)(c())),"1"===r||(x+=" "+(0,a.tw)(f())),(0,i.jsx)(s.default,{className:m,style:{paddingTop:null==h?void 0:h.offsetHeight,paddingBottom:null==g?void 0:g.offsetHeight},children:(0,i.jsx)(s.default,{className:x,children:n})})}},74072:function(e,t,r){"use strict";r.d(t,{hB:function(){return a},jp:function(){return u},t9:function(){return s}});var n=r(57437),i=r(2265);let l=(0,i.createContext)(void 0),o=(0,i.createContext)(()=>{}),s=e=>{let{children:t}=e,[r,s]=(0,i.useState)(void 0);return(0,n.jsx)(l.Provider,{value:r,children:(0,n.jsx)(o.Provider,{value:s,children:t})})},a=()=>(0,i.useContext)(l),u=()=>(0,i.useContext)(o)},52801:function(e,t,r){"use strict";r.d(t,{T1:function(){return s},t8:function(){return a}});var n=r(57437),i=r(2265);let l=(0,i.createContext)(null),o=(0,i.createContext)(null),s=e=>{let{children:t,isOpened:r,showNotificationMessage:i}=e;return(0,n.jsx)(l.Provider,{value:r,children:(0,n.jsx)(o.Provider,{value:i,children:t})})},a=()=>(0,i.useContext)(o)},32653:function(e,t,r){"use strict";r.d(t,{$o:function(){return f},dt:function(){return c},s$:function(){return u},tG:function(){return d},w:function(){return h}});var n=r(57437),i=r(2265);let l=(0,i.createContext)(void 0),o=(0,i.createContext)(()=>{}),s=(0,i.createContext)(void 0),a=(0,i.createContext)(()=>{}),u=e=>{let{children:t}=e,[r,u]=(0,i.useState)(!1),[d,c]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{},[d]),(0,n.jsx)(l.Provider,{value:r,children:(0,n.jsx)(o.Provider,{value:u,children:(0,n.jsx)(s.Provider,{value:d,children:(0,n.jsx)(a.Provider,{value:c,children:t})})})})},d=()=>(0,i.useContext)(l),c=()=>(0,i.useContext)(o),f=()=>(0,i.useContext)(s),h=()=>(0,i.useContext)(a)},26062:function(e,t,r){"use strict";r.d(t,{Xe:function(){return i},oX:function(){return o},tw:function(){return l},w_:function(){return n}});let n=e=>JSON.stringify(Array.from(e)),i=e=>new Map(JSON.parse(e)),l=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return String.raw({raw:e},...r)},o=(e,t)=>{if(""===e.target.value)return t(""),!0;if("-"===e.target.value)return t("-"),!0;let r=parseInt(e.target.value,10);return!isNaN(r)&&(t(r),!0)}}},function(e){e.O(0,[6658,7987,422,4100,2713,2560,7982,4609,7793,2971,2117,1744],function(){return e(e.s=56114)}),_N_E=e.O()}]);