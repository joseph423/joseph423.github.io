(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4578],{34023:function(e,t,n){Promise.resolve().then(n.bind(n,90826))},90826:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(57437),a=n(2265),o=n(46387),s=n(59832),i=n(8e4),u=n(31355),c=n(21099),l=n(5669),d=n(29361),f=n(99376),h=(0,a.forwardRef)(function(e,t){let{tapChangeHistoryCount:n}=e,a=(0,f.useRouter)();return(0,r.jsxs)(u.Z,{ref:t,children:[(0,r.jsx)(s.Z,{edge:"start",className:"mr-2 dark:text-neutral-200",onClick:()=>a.push("/tappy-count"),children:(0,r.jsx)(d.Z,{})}),(0,r.jsxs)(o.default,{variant:"h6",component:"h1",className:"flex-grow dark:text-neutral-200",children:[n," Tap History"]}),(0,r.jsx)(l.Z,{className:"dark:text-neutral-200",title:"Store up to ".concat(c.QK," records"),children:(0,r.jsx)(s.Z,{size:"large",edge:"end",children:(0,r.jsx)(i.Z,{})})})]})}),p=n(59135),x=n(41122),m=n(35103),g=n(54352),j=n(32653),C=n(85149),v=n(16829);let k=e=>{let{tapChangeHistories:t}=e,[n]=(0,g.T)(),a=(0,j.dt)(),o=t.map(e=>({id:e.id,name:"name"in e.tap?e.tap.name:"",tapCount:e.tap.tapCount,action:e.action,tapDt:e.createdAt}));return(0,r.jsx)(p.J,{height:n,itemSize:75,overscanCount:c.pz,rowComponent:x.A,data:o,onScroll:e=>{let{scrollOffset:t}=e;return a(t>0)}})};function y(){let[e,t]=(0,C.h)(),n=(0,j.w)(),[s,i]=(0,a.useState)([]);return(0,a.useEffect)(()=>(console.log("Mount history/page.tsx"),()=>console.log("Unmount history/page.tsx")),[]),(0,a.useEffect)(()=>{(async()=>{i(Array.from((await (0,m.I)()).values()).reverse())})()},[]),(0,a.useEffect)(()=>{void 0!==t&&n(t)},[t]),(0,r.jsxs)(v.default,{heightProfile:"1",paddingProfile:"1",children:[(0,r.jsx)(h,{ref:e,tapChangeHistoryCount:s.length}),s.length>0?(0,r.jsx)(k,{tapChangeHistories:s}):(0,r.jsx)(o.default,{variant:"body1",component:"div",className:"my-4 flex-1 text-center dark:text-neutral-200",children:"No record"})]})}},47159:function(e,t,n){"use strict";let r=n(2265).createContext(void 0);t.Z=r},66515:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2265),a=n(47159);function o(){return r.useContext(a.Z)}}},function(e){e.O(0,[1866,7011,4228,2560,6689,4522,3974,9433,1101,2971,2117,1744],function(){return e(e.s=34023)}),_N_E=e.O()}]);